# ğŸš€ YouTube Thumbnail Downloader & Support Bot - 2026 Edition

A feature-complete, production-ready Telegram bot with advanced support ticketing, multi-agent operations, and comprehensive analytics. Built with python-telegram-bot v20+ featuring ReplyKeyboard UI for optimal mobile experience.

## âœ¨ Complete Feature List

### ğŸ¥ Core YouTube Features

- âœ… **Universal Link Support**
  - `youtube.com/watch?v=VIDEO_ID`
  - `youtu.be/VIDEO_ID`
  - `youtube.com/shorts/VIDEO_ID`
  - `youtube.com/live/VIDEO_ID`
  - Direct video IDs (11 characters)

- âœ… **Automatic Video ID Detection**
- âœ… **Smart Thumbnail Validation** - Only fetches existing thumbnails
- âœ… **Multiple Quality Options:**
  - MaxRes (1920x1080)
  - HD (High Quality)
  - Medium Quality
  - All Qualities (default)
- âœ… **No Watermark** - Direct YouTube CDN links
- âœ… **No API Required** - Fast and reliable
- âœ… **Super Fast Processing**

### ğŸ›ï¸ Smart Download System

- âœ… **ReplyKeyboard-Based Quality Selection**
- âœ… **User Chooses One Quality Only** - Bandwidth optimized
- âœ… **No Bulk Sending by Default** - VPS safe
- âœ… **Auto Fallback** - If quality unavailable
- âœ… **Optimized for Low Bandwidth**

### ğŸ¤– Smart UI / UX

- âœ… **Fully ReplyKeyboard Driven**
- âœ… **Context-Aware Menus**
- âœ… **Zero Typing Required** - Button-based navigation
- âœ… **Mobile-First Design**
- âœ… **Clean & Premium Experience**
- âœ… **ConversationHandler Architecture**

### ğŸŒ Multi-Language System

- âœ… **Auto Language Detection** from user messages
- âœ… **Supported Languages:**
  - ğŸ‡¬ğŸ‡§ English
  - ğŸ‡®ğŸ‡³ Hindi (à¤¹à¤¿à¤‚à¤¦à¥€)
  - ğŸ‡ªğŸ‡¸ Spanish (EspaÃ±ol)
- âœ… **Easy Language Addition** - Modular i18n system
- âœ… **No Manual Selection Needed** - Auto-detects from Telegram

### ğŸ’ Free & Premium System

- âœ… **Free Daily Limit** - 10 requests/day (configurable)
- âœ… **Premium Unlimited** - 1000 requests/day (configurable)
- âœ… **Premium-Only Features:**
  - ZIP downloads
  - Priority processing
  - No ads
  - Early feature access
- âœ… **Dynamic Limits** - Admin can change via web panel

### ğŸ’³ Payment System

- âœ… **UPI Payments** - India-focused
- âœ… **Payment Proof Upload** - Screenshot verification
- âœ… **Manual Admin Approval**
- âœ… **Payment History Tracking**
- âœ… **Instant Admin Alerts** - Get notified immediately
- âœ… **Premium Expiry System** - 30 days default
- ğŸ”œ **Telegram Stars** - Coming soon placeholder

### ğŸ Referral System

- âœ… **Unique Referral Link Per User**
- âœ… **Automatic Referral Tracking**
- âœ… **Referral-Based Rewards** - Bonus requests
- âœ… **Premium Unlock** - Free premium after 10 referrals
- âœ… **Growth-Focused Viral Loop**

### ğŸ›¡ï¸ Security & Anti-Spam

- âœ… **Flood Control** - Time-based rate limiting
- âœ… **Abuse Prevention**
- âœ… **User Ban System** - Admin can ban/unban
- âœ… **Maintenance Mode** - Emergency shutdown
- âœ… **Safe Request Handling**

### ğŸ”’ Force Join Channel

- âœ… **Mandatory Channel Join** - Configurable
- âœ… **Join Check Before Usage**
- âœ… **ON/OFF Toggle** - Admin panel
- âœ… **Channel Change Anytime** - Dynamic config
- âœ… **Reply Button Flow** - User-friendly

### ğŸ‘‘ Admin Control (Bot)

- âœ… **ReplyKeyboard Admin Panel**
- âœ… **No Commands Needed** - Button-driven
- âœ… **Live Setting Control:**
  - Free limit
  - Premium limit
  - Referral bonus
  - Flood time
- âœ… **Force Join Control** - Enable/disable, set channel
- âœ… **Maintenance Control** - Toggle mode
- âœ… **User Management** - Ban/unban from web
- âœ… **Live Bot Stats**

### ğŸŒ Web Admin Panel

- âœ… **Secure Login** - Username/password auth
- âœ… **Modern Dashboard** - Chart.js analytics
- âœ… **Real-Time Statistics:**
  - Total users
  - Premium users
  - Banned users
  - Today's requests
  - Open tickets
  - Online agents
  - Pending payments

- âœ… **User Management:**
  - View all users
  - Toggle premium
  - Ban/unban users
  - User details

- âœ… **Support Management:**
  - View all tickets
  - Update ticket status
  - Download attachments as ZIP
  - Ticket assignment view

- âœ… **Agent Management:**
  - View all agents
  - Agent performance metrics
  - Online/offline status
  - Tickets handled statistics

- âœ… **Settings Panel:**
  - Maintenance mode toggle
  - Force join toggle
  - Channel configuration
  - Limit configuration
  - Referral bonus settings
  - Flood control settings

- âœ… **No Bot Restart Required** - Live updates

### ğŸ“Š Analytics & Reports

- âœ… **User Growth Chart** - Last 7 days (Chart.js)
- âœ… **Daily Requests Chart** - Last 7 days (Chart.js)
- âœ… **Real-Time Statistics**
- âœ… **Agent Performance Tracking**
- âœ… **Ticket Analytics**
- ğŸ”œ **Export-Ready Data**

### ğŸ’¬ Support Ticket System

- âœ… **Built-In Support Menu**
- âœ… **Ticket ID Generation** - 8-character unique IDs
- âœ… **Ticket Status Tracking** - Open/resolved
- âœ… **Private Ticket Threads** - User â†” Agent only
- âœ… **Subject & Message System**
- âœ… **My Tickets View** - User can see their tickets

### ğŸ“ Advanced Support Features

- âœ… **Multiple Attachments Per Ticket**
- âœ… **Photo Support**
- âœ… **Document Support**
- âœ… **Video Support**
- âœ… **Audio Support**
- âœ… **Telegram file_id Based** - No VPS storage
- âœ… **Admin-Only ZIP Download** - All attachments
- âœ… **Auto Cleanup After Send** - Temp file management

### ğŸ¤– Auto-Reply FAQ Bot

- âœ… **Keyword-Based Instant Answers**
- âœ… **Reduces Support Load**
- âœ… **Editable FAQ via DB**
- âœ… **Falls Back to Ticket Creation**
- âœ… **Multi-Language FAQ Support**

### â±ï¸ SLA & Escalation System

- âœ… **First Reply SLA Tracking** - Database structure ready
- âœ… **Resolution SLA Tracking** - Database structure ready
- ğŸ”œ **Auto SLA Breach Detection**
- ğŸ”œ **Auto Escalation Alerts**
- ğŸ”œ **Priority Upgrade on Breach**

### ğŸ§‘â€ğŸ’¼ Multi-Agent Support Operations

- âœ… **Multiple Admin Roles:**
  - Owner
  - Manager
  - Support
  - Viewer

- âœ… **Agent Online/Offline Status**
- âœ… **Automatic Ticket Assignment** - Load balancing
- âœ… **Least Busy Agent Selection**
- ğŸ”œ **Auto Reassignment on SLA Breach**
- âœ… **Agent Panel in Bot**

### ğŸ“Š Agent Performance Analytics

- âœ… **Tickets Handled Per Agent**
- âœ… **Average Reply Time** - Tracked
- âœ… **Tickets Closed Count**
- âœ… **Agent Database Structure**
- ğŸ”œ **Agent Leaderboard**
- ğŸ”œ **Support Efficiency Insights**

### ğŸ“¦ ZIP Generation Service

- ğŸ”œ **Premium-Only ZIP Download** - For thumbnails
- âœ… **Admin ZIP for Attachments** - Support tickets
- âœ… **Temporary ZIP Creation**
- âœ… **Auto Delete After Send**
- âœ… **VPS Safe & Scalable**

### ğŸ—‚ï¸ Database & Architecture

- âœ… **SQLite** - Lightweight & fast
- âœ… **Normalized Tables:**
  - users
  - usage
  - referrals
  - flood_control
  - payment_proofs
  - support_tickets
  - support_messages
  - support_attachments
  - agents
  - faq
  - bot_settings

- âœ… **Scalable Schema**
- âœ… **Production-Ready Structure**
- âœ… **Easy Migration** to MySQL/PostgreSQL

### âš™ï¸ Tech Stack

- âœ… **Python 3.8+**
- âœ… **python-telegram-bot v20+**
- âœ… **Flask** - Admin panel
- âœ… **SQLite** - Database
- âœ… **Chart.js** - Analytics visualization
- âœ… **aiosqlite** - Async database operations
- âœ… **langdetect** - Language detection
- âœ… **aiohttp** - Async HTTP requests
- âœ… **VPS / Cloud Ready**

## ğŸš€ Installation

### Prerequisites

- Python 3.8 or higher
- pip (Python package manager)
- Telegram Bot Token from [@BotFather](https://t.me/BotFather)

### Quick Setup

1. **Clone the repository**
   ```bash
   git clone https://github.com/inyogeshwar/thumbxtract-telegram-bot.git
   cd thumbxtract-telegram-bot
   ```

2. **Install dependencies**
   ```bash
   pip install -r requirements.txt
   ```

3. **Configure the bot**
   ```bash
   cp config.ini.example config.ini
   nano config.ini
   ```
   
   Update these required settings:
   ```ini
   [bot]
   token = YOUR_BOT_TOKEN_HERE
   admin_ids = YOUR_TELEGRAM_USER_ID
   
   [payment]
   upi_id = your-upi-id@bank
   
   [admin_panel]
   username = admin
   password = CHANGE_THIS_STRONG_PASSWORD
   ```

4. **Run the bot**
   ```bash
   python bot.py
   ```

5. **Run the admin panel** (in separate terminal)
   ```bash
   python admin_panel.py
   ```
   Access at: http://localhost:5000

## ğŸ“– User Guide

### Getting Started

1. Start the bot: `/start`
2. Use the menu buttons - no typing needed!
3. Click `ğŸ“¹ Get Thumbnail`
4. Send any YouTube link
5. Choose quality: MaxRes, HD, Medium, or All
6. Receive thumbnails instantly!

### Main Menu Options

- **ğŸ“¹ Get Thumbnail** - Download YouTube thumbnails
- **ğŸ“Š My Stats** - View your usage statistics
- **ğŸ Referrals** - Get your referral link
- **ğŸ’ Premium** - View premium benefits
- **â“ Help** - Show help information
- **ğŸ’¬ Support** - Access support center

### Support Center

- **ğŸ« Create Ticket** - Open a new support ticket
- **ğŸ“‹ My Tickets** - View your tickets
- **â“ FAQ** - Quick answers
- **ğŸ”™ Back to Main** - Return to main menu

### Creating Support Tickets

1. Click `ğŸ’¬ Support`
2. Click `ğŸ« Create Ticket`
3. Enter subject
4. Describe your issue
5. Optionally add attachments (photos, documents, videos, audio)
6. Submit ticket
7. Get help from support agents!

### Premium Features

Get premium by:
1. **Referrals** - Refer 10 friends (free!)
2. **Payment** - UPI payment with admin approval

Premium benefits:
- 1000 requests/day (vs 10 for free)
- Priority processing
- No ads
- ZIP downloads (coming soon)
- Premium support

### Referral System

1. Click `ğŸ Referrals`
2. Copy your unique link
3. Share with friends
4. Both get bonus requests!
5. Get free premium after 10 referrals

## ğŸ‘‘ Admin Guide

### Web Admin Panel

Access at `http://localhost:5000` (or your VPS IP)

**Default Login:**
- Username: `admin`
- Password: `admin123` (CHANGE THIS!)

### Dashboard Features

**Statistics Cards:**
- Total users
- Premium users
- Today's requests
- Open tickets
- Online agents
- Pending payments

**Analytics Charts:**
- User growth (last 7 days)
- Daily requests (last 7 days)

### Users Management

- View all users (latest 100)
- Toggle premium status
- Ban/unban users
- View user details

### Support Tickets

- View all tickets (latest 50)
- Update ticket status
- Download attachments as ZIP
- Monitor ticket metrics

### Agent Management

- View all agents
- See online/offline status
- Track performance metrics
- Monitor ticket assignments

### Settings

- **Maintenance Mode** - Toggle bot on/off
- **Force Join** - Require channel membership
- **Channel ID** - Set required channel
- **Free Limit** - Set free user limit
- **Premium Limit** - Set premium user limit
- **Referral Bonus** - Set bonus per referral
- **Flood Time** - Set rate limit window

### Bot Admin Panel

For admins, the bot shows:
- **ğŸ‘‘ Admin Panel** button
- Access to bot stats
- User management options
- Settings configuration

### Agent Panel

For agents, the bot shows:
- **ğŸ« Agent Panel** button
- Online/offline toggle
- View open tickets
- View assigned tickets
- Track statistics

## ğŸ› ï¸ Configuration

### config.ini Settings

```ini
[bot]
token = YOUR_BOT_TOKEN
admin_ids = 123456789,987654321

[database]
path = bot_data.db

[limits]
free_daily_limit = 10
premium_daily_limit = 1000
flood_threshold = 5
flood_window = 60

[referral]
bonus_uses = 5
premium_referrals_required = 10

[languages]
default = en

[payment]
upi_id = your-upi-id@bank
premium_days = 30

[admin_panel]
username = admin
password = admin123
```

## ğŸ”§ Development

### Project Structure

```
thumbxtract-telegram-bot/
â”œâ”€â”€ bot.py                 # Main bot with ReplyKeyboard UI
â”œâ”€â”€ database.py            # Database operations
â”œâ”€â”€ youtube_utils.py       # YouTube thumbnail extraction
â”œâ”€â”€ i18n.py               # Multi-language support
â”œâ”€â”€ admin_panel.py        # Flask web admin panel
â”œâ”€â”€ config.ini.example    # Example configuration
â”œâ”€â”€ requirements.txt      # Python dependencies
â”œâ”€â”€ README.md            # This file
â”œâ”€â”€ bot_data.db          # SQLite database (created automatically)
â””â”€â”€ config.ini           # Your configuration (not in git)
```

### Database Schema

#### Tables
- **users** - User profiles and status
- **usage** - Daily usage tracking
- **referrals** - Referral relationships
- **flood_control** - Rate limiting
- **payment_proofs** - Payment screenshots
- **support_tickets** - Support ticket records
- **support_messages** - Ticket message history
- **support_attachments** - Ticket file attachments
- **agents** - Support agent profiles
- **faq** - FAQ entries
- **bot_settings** - Dynamic bot configuration

### Adding New Languages

1. Open `i18n.py`
2. Add translations to `TRANSLATIONS` dict
3. Add language name to `LANGUAGE_NAMES` dict
4. Done! No restart needed.

Example:
```python
'fr': {
    'welcome': "Bienvenue!",
    # ... more translations
}
```

### Adding FAQ Entries

Via database:
```python
await db.add_faq(
    keywords="thumbnail how download",
    answer="Click 'Get Thumbnail' button and send YouTube link!",
    language="en"
)
```

### Adding Agents

Via database or admin panel:
```python
await db.add_agent(user_id=123456789, role='support')
```

## ğŸ“Š Analytics

### User Growth Tracking

- Automatic daily user counting
- 7-day chart visualization
- Real-time updates

### Request Analytics

- Daily request counting
- Per-user usage tracking
- Limit enforcement
- Chart visualization

### Agent Performance

- Tickets handled
- Tickets closed
- Average reply time
- Online time tracking

## ğŸš€ Deployment

### Local Development

```bash
python bot.py
# In another terminal:
python admin_panel.py
```

### VPS Deployment

1. **Upload files**
   ```bash
   scp -r . user@vps:/path/to/bot/
   ```

2. **Install dependencies**
   ```bash
   ssh user@vps
   cd /path/to/bot/
   pip install -r requirements.txt
   ```

3. **Configure**
   ```bash
   nano config.ini
   # Add your bot token and settings
   ```

4. **Run with screen/tmux**
   ```bash
   screen -S bot
   python bot.py
   # Ctrl+A, D to detach
   
   screen -S admin
   python admin_panel.py
   # Ctrl+A, D to detach
   ```

### Systemd Service

Create `/etc/systemd/system/thumbxtract-bot.service`:

```ini
[Unit]
Description=YouTube Thumbnail Bot
After=network.target

[Service]
Type=simple
User=botuser
WorkingDirectory=/path/to/bot
ExecStart=/usr/bin/python3 bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

Create `/etc/systemd/system/thumbxtract-admin.service`:

```ini
[Unit]
Description=YouTube Thumbnail Bot Admin Panel
After=network.target

[Service]
Type=simple
User=botuser
WorkingDirectory=/path/to/bot
ExecStart=/usr/bin/python3 admin_panel.py
Restart=always

[Install]
WantedBy=multi-user.target
```

Enable and start:
```bash
sudo systemctl enable thumbxtract-bot thumbxtract-admin
sudo systemctl start thumbxtract-bot thumbxtract-admin
```

## ğŸ› Troubleshooting

### Bot Not Responding

- Check bot token in `config.ini`
- Verify bot is running: `ps aux | grep bot.py`
- Check logs for errors
- Ensure internet connection

### Database Errors

- Check write permissions on `bot_data.db`
- Ensure SQLite is installed
- Verify disk space

### Admin Panel Not Accessible

- Check Flask is running: `ps aux | grep admin_panel.py`
- Verify port 5000 is not blocked
- Check firewall settings
- Try `http://localhost:5000` or `http://YOUR_IP:5000`

### Force Join Not Working

- Ensure bot is admin in the channel
- Use correct channel username (with @)
- Check channel privacy settings

### Maintenance Mode Issues

- Toggle via admin panel settings
- Check `bot_settings` table in database
- Admins bypass maintenance mode

## ğŸ“„ License

MIT License - Free to use and modify

## ğŸ¤ Contributing

Contributions welcome! Please:
1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## ğŸ’¬ Support

- GitHub Issues: [Report bugs](https://github.com/inyogeshwar/thumbxtract-telegram-bot/issues)
- Telegram: Contact bot admins
- Documentation: This README

## ğŸ™ Acknowledgments

- [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot) - Awesome Telegram bot framework
- [Flask](https://flask.palletsprojects.com/) - Web framework for admin panel
- [Chart.js](https://www.chartjs.org/) - Beautiful charts
- YouTube CDN - For hosting thumbnails
- Telegram community - For inspiration and support

## ğŸ“ Changelog

### Version 2.0 (2026 Edition)
- âœ… Complete ReplyKeyboard UI
- âœ… Support ticket system
- âœ… Multi-agent operations
- âœ… Enhanced admin panel with Chart.js
- âœ… Force join channel
- âœ… Maintenance mode
- âœ… FAQ system
- âœ… Agent management
- âœ… Performance analytics
- âœ… Quality selection for thumbnails
- âœ… Multiple attachment support

### Version 1.0 (Original)
- Basic thumbnail extraction
- InlineKeyboard UI
- Simple admin panel
- Basic user management

---

**Made with â¤ï¸ for the Telegram community**

â­ Star this repo if you find it useful!

ğŸš€ **Production-Ready â€¢ Feature-Complete â€¢ 2026 Edition**
